<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="mappers.BorrowMapper" >
<insert id="insert" parameterType="com.bit.lib.system.model.Borrow">
	insert into borrow values (#{book_code},#{member_id},#{borrowDate},#{returnDate})
</insert>

<select id="selectByBook_code" resultType="com.bit.lib.system.model.Borrow">
	select * from borrow where book_code=#{book_code}
</select>

<select id="getDay" resultType="int">
	select to_days(sysdate())-to_days(STR_TO_DATE(#{returnDate},'%Y-%m-%d'))
</select>

	<select id="getBook_code" resultType="java.lang.String" >
		select book_code from book where book_name Like #{bookname}
	</select>

</mapper>